{% extends "base.html" %}

{% block page_header %}TASKS{% endblock %}

{% block content %}

    <div class="well">
	<h4>Breaking news!</h4>
	<div><b>09.03.2014 19:44 MSK</b>. We published <i>hint</i> for task  <a href="{% url "quests.views.open_task_by_id" 42 %}">recon:400</a> (Landlord). Check Olimpiada's profile.</div>
	<div><b>09.03.2014 18:33 MSK</b>. 24 hours passed. All tasks are opened!</div>
	<div><b>09.03.2014 13:20 MSK</b>. <i>Hint</i> for task <a href="{% url "quests.views.open_task_by_id" 40 %}">web:400</a> (irRSA). It seems that agent and system developer have disabled all outbound connections from agent's computer to the Internet ;-). </div>
	<div><b>09.03.2014 09:39 MSK</b>. Turns out, <a href="{% url "quests.views.open_task_by_id" 17 %}">Harm</a> task was way too easy, so we decided to shave some points off of it, and to add <a href="{% url "quests.views.open_task_by_id" 48%}">No harm</a> task, that you would easily solve, if you really worked hard on Harm task ;-). Personal sorry for inconvenience from <a href="http://ructf.org/2014/en/devteam#domi">domi</a>.</div>
	<div class="collapse-group">
	    <div><b>09.03.2014 09:00 MSK</b>. Task <a href="{% url "quests.views.open_task_by_id" 29 %}">vuln:500</a> (Sample mixer) is updated. Personal sorry for inconvenience from <a href="http://ructf.org/2014/en/devteam#Vyatskov">umineko</a>.</div>
	    <div><b>09.03.2014 05:11 MSK</b>. Task <a href="{% url "quests.views.open_task_by_id" 19 %}">hardware:300</a> (ADC) timings have been adjusted.</div>
	    <div><b>09.03.2014 03:17 MSK</b>. Task <a href="{% url "quests.views.open_task_by_id" 14 %}">ppc:200</a> (Maze) has been updated, now it could be solved!</div>
	    <div id="all-news" class="collapse">	
		<div><b>08.03.2014 00:05 MSK</b>. Task <a href="{% url "quests.views.open_task_by_id" 40 %}">web:400</a> (irRSA) investigation was finished. It's ready for solving.</div>
		<div><b>08.03.2014 23:25 MSK</b>. Task <a href="{% url "quests.views.open_task_by_id" 35 %}">recon:300</a> (Get the message) investigation was finished. We have slightly updated it. Check Olympiada's page again.</div>
		<div><b>08.03.2014 21:50 MSK</b>. Task <a href="{% url "quests.views.open_task_by_id" 18 %}">web:200</a> (es) has been updated. Check <a href="http://w2.quals.ructf.org/">http://w2.quals.ructf.org/</a> again. There was a small bug in web application which allowed get a flag in very simple way. Now it is impossible. We hope :-) <i>We will reset all points for all teams by this task</i>. Personal sorry by <a href="http://ructf.org/2014/en/devteam#and">and</a>.</div>
		<div><b>08.03.2014 21:43 MSK</b>. Task <a href="{% url "quests.views.open_task_by_id" 14 %}">ppc:200</a> (Maze) has been updated a little. Check it again.</div>
		<div><b>08.03.2014 21:35 MSK</b>. Task <a href="{% url "quests.views.open_task_by_id" 35 %}">recon:300</a> (Get the message) is under investigation now. Wait for a next announcement about this task.</div>
		<div><b>08.03.2014 21:15 MSK</b>. Task <a href="{% url "quests.views.open_task_by_id" 40 %}">web:400</a> (irRSA) is under investigation now.</div>
		<div><b>08.03.2014 20:50 MSK</b>. Task <a href="{% url "quests.views.open_task_by_id" 4 %}">reverse:100</a> (Bad lib) has been updated.</div>
	    </div>
	    <p><a class="btn btn-link"  data-toggle="collapse" data-target="#all-news">Show all news &raquo;</a></p>
	</div>
    </div>

    <div class="tasks row">
      {% for category_name, tasks in by_categories %}
        <div class="col-xs-3 col-sm-3 col-md-2" style="height: 250px">
          <h2>{{ category_name }}</h2>
          {% for task in tasks %}
            <div class="task">
              {% if task.is_solved %}
                {% if user.is_authenticated %}
                  <p><a class="btn btn-success" disabled="disabled" title="Task is already solved"><span class="glyphicon glyphicon-ok"></span> {{ task.score }}. {{ task.name }} <span style="font-size: 80% !important" class="label label-success" title="{{ task.solutions_count }} solved this task">{{ task.solutions_count }}</span></a></p>
                {% else %}
                  <p><a class="btn btn-default btn-border-success" disabled="disabled"> {{ task.score }}. {{ task.name }} <span style="font-size: 80% !important" class="label" title="{{ task.solutions_count }} solved this task">{{ task.solutions_count }}</span></a></p>
                {% endif %}
              {% elif task.is_open %}
                <p><a class="btn btn-primary" href="{{ task.get_absolute_url }}" role="button">{{ task.score }}. {{ task.name }} <span style="font-size: 80% !important" class="label label-info" title="{{ task.solutions_count }} solved this task">{{ task.solutions_count }}</span></a></p>
              {% else %}
                <p><a class="btn btn-default" disabled="disabled" title="Task is closed">{{ task.score }}. {{ task.name }}</a></p>
              {% endif %}
            </div>
          {% endfor %}
        </div>
      {% endfor %}
    </div>

{% endblock %}
