{% extends "base.html" %}

{% block page_header %}TASKS{% endblock %}

{% block content %}

    <div class="well">
	<h4>Breaking news!</h4>	
	<div><b>08.03.2014 00:05 MSK</b>. Task <a href="{% url "quests.views.open_task_by_id" 40 %}">web:400</a> (irRSA) finished investigation. It's ready for solving.</div>
	<div><b>08.03.2014 23:25 MSK</b>. Task <a href="{% url "quests.views.open_task_by_id" 35 %}">recon:300</a> (Get the message) finished investigation. We have slightly updated it. Check Olympiada's page again.</div>
	<div><b>08.03.2014 21:50 MSK</b>. Task <a href="{% url "quests.views.open_task_by_id" 18 %}">web:200</a> (es) has been updated. Check <a href="http://w2.quals.ructf.org/">http://w2.quals.ructf.org/</a> again. There was a small bug in web application which allowed get a flag in very simple way. Now it is impossible. We hope :-) <i>We will reset all points for all teams by this task</i>. Personally sorry by <a href="http://ructf.org/2014/en/devteam#and">and</a>.</div>
	<div><b>08.03.2014 21:43 MSK</b>. Task <a href="{% url "quests.views.open_task_by_id" 14 %}">ppc:200</a> (Maze) has been updated a little. Check it again.</div>
	<div><b>08.03.2014 21:35 MSK</b>. Task <a href="{% url "quests.views.open_task_by_id" 35 %}">recon:300</a> (Get the message) is under investigation now. Wait for a next announcement about this task.</div>
	<div><b>08.03.2014 21:15 MSK</b>. Task <a href="{% url "quests.views.open_task_by_id" 40 %}">web:400</a> (irRSA) is under investigation now.</div>
	<div><b>08.03.2014 20:50 MSK</b>. Task <a href="{% url "quests.views.open_task_by_id" 4 %}">reverse:100</a> (Bad lib) has been updated.</div>
    </div>

    <div class="tasks row">
      {% for category_name, tasks in by_categories %}
        <div class="col-xs-3 col-sm-3 col-md-2" style="height: 250px">
          <h2>{{ category_name }}</h2>
          {% for task in tasks %}
            <div class="task">
              {% if task.is_solved %}
                {% if user.is_authenticated %}
                  <p><a class="btn btn-success" disabled="disabled" title="Task is already solved"><span class="glyphicon glyphicon-ok"></span> {{ task.score }}. {{ task.name }}</a></p>
                {% else %}
                  <p><a class="btn btn-default btn-border-success" disabled="disabled"> {{ task.score }}. {{ task.name }}</a></p>
                {% endif %}
              {% elif task.is_open %}
                <p><a class="btn btn-primary" href="{{ task.get_absolute_url }}" role="button">{{ task.score }}. {{ task.name }}</a></p>
              {% else %}
                <p><a class="btn btn-default" disabled="disabled" title="Task is closed">{{ task.score }}. {{ task.name }}</a></p>
              {% endif %}
            </div>
          {% endfor %}
        </div>
      {% endfor %}
    </div>

{% endblock %}
